import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, text, select, boolean } from '@storybook/addon-knobs';
import { html } from 'lit-html';

import '@eightshapes/esds-card/dist/esds-card-web-component.js'; // The Web Component Import
import { EsdsCard } from '@eightshapes/esds-card/dist/EsdsCard.js'; // The Custom Element Class
EsdsCard.define('esds-v10'); // Define a <esds-v10-card> component
import '@eightshapes/esds-icon'; // The Web Component Import
import '@eightshapes/esds-background-demo'; // The Web Component Import
import { EsdsIconHelp, EsdsIconPencil, EsdsIconStar } from '@eightshapes/esds-icons';
import './styles/card.stories.scss'; // Demo styles to show component states
const storybookCardWidth = 300;
const demoStyles = `width: ${storybookCardWidth}px;`;
const cardLinkStates = ['default', 'hover', 'focus', 'active'];
const cropTypes = ['cover', 'fill', 'contain', 'none', 'scale-down'];

<Meta
  title="Design System/Card"
  component="esds-card"
  decorators={[withKnobs({ escapeHTML: false })]}
/>

# Card

## Installation

```bash
npm install @eightshapes/esds-card
```

<Props of="esds-card" />

## Default

<Preview>
  <Story name="Default">{`<esds-card style="${demoStyles}" title="Card Title"></esds-card>`}</Story>
</Preview>

## Component Anatomy

<Preview>
  <Story name="Component Anatomy">
    {`<esds-card
        style="${demoStyles}"
        img-src="./images/card/color.png"
        title="Card Title"
        metadata="Metadata"
        description="This is a long description that will wrap to multiple lines."
      >
        <div slot="content" class="storybook-slotholder">
          <span>content</span>
        </div>
        <div slot="actions" class="storybook-slotholder">
          <span>actions</span>
        </div>
      </esds-card>`}
  </Story>
</Preview>

## With Image

<Preview>
  <Story name="With Image">
    {`<esds-card style="${demoStyles}" img-src="./images/card/color.png" title="Card Title"></esds-card>`}
  </Story>
</Preview>

## With Metadata

<Preview>
  <Story name="With Metadata">
    {`<esds-card
        style="${demoStyles}"
        img-src="./images/card/morningstar.png"
        title="Morningstar"
        metadata="Design System"
      ></esds-card>`}
  </Story>
</Preview>

## With Description

<Preview>
  <Story name="With Description">
    {`<esds-card
        style="${demoStyles}"
        img-src="./images/card/rei.png"
        title="Cedar"
        metadata="Design System"
        description="A web-based system for rei.com apps and properties."
      ></esds-card>`}
  </Story>
</Preview>

## Content Slot

<Preview>
  <Story name="Content Slot">
    {`<esds-card
        style="${demoStyles}"
        img-src="./images/card/usac.png"
        title="USAC"
        metadata="2017"
        description="A system for the Universal Service Administrative Co."
      >
        <p slot="content" style="line-height: 1.2; text-align: left; text-indent: 0; font-size: 16px; margin: 0 0 16px 0; text-shadow: none; text-transform: none; font-style: normal; letter-spacing: 0; font-weight: normal;">This is some <strong>content</strong> in the content slot.</p>
        <p slot="content" style="line-height: 1.2; text-align: left; text-indent: 0; font-size: 16px; margin: 0 0 16px 0; text-shadow: none; text-transform: none; font-style: normal; letter-spacing: 0; font-weight: normal;">This is some <strong>content</strong> in the content slot.</p>
      </esds-card>`}
  </Story>
</Preview>

## Action Slot, Buttons

<Preview>
  <Story name="Action Slot, Buttons">
    {`<esds-card
        style="${demoStyles}"
        img-src="./images/card/usac.png"
        title="USAC"
        metadata="2017"
        description="A system for the Universal Service Administrative Co."
      >
        <button slot="actions" style="margin: 0; font-size: 16px; text-indent: 0; text-shadow: none;">Action 1</button>
        <button slot="actions" style="margin: 0; font-size: 16px; text-indent: 0; text-shadow: none;">Action 2</button>
      </esds-card>`}
  </Story>
</Preview>

## Action Slot, Link

<Preview>
  <Story name="Action Slot, Link">
    {`<esds-card
        style="${demoStyles}"
        img-src="./images/card/morningstar.png"
        title="Morningstar"
        metadata="Design System"
        description="Style, UI components and charts for digital products."
      >
        <a slot="actions" href="#">View the Library</a>
      </esds-card>`}
  </Story>
</Preview>

## Action Slot, Icon Button

<Preview>
  <Story name="Action Slot, Icon Button">
    {html`
      <esds-card
        style="${demoStyles}"
        img-src="./images/card/morningstar.png"
        title="Morningstar"
        metadata="Design System"
        description="Style, UI components and charts for digital products."
      >
        <button
          slot="actions"
          style="padding: 0; margin: 0; background: transparent; line-height: 1; text-indent: 0; font-size: 16px; border: 0; width: 21px;"
        >
          <esds-icon use="${EsdsIconHelp}"></esds-icon>
        </button>
        <button
          slot="actions"
          style="padding: 0; margin: 0; background: transparent; line-height: 1; text-indent: 0; font-size: 16px; border: 0; width: 21px;"
        >
          <esds-icon use="${EsdsIconPencil}"></esds-icon>
        </button>
        <button
          slot="actions"
          style="padding: 0; margin: 0; background: transparent; line-height: 1; text-indent: 0; font-size: 16px; border: 0; width: 21px;"
        >
          <esds-icon use="${EsdsIconStar}"></esds-icon>
        </button>
      </esds-card>
    `}
  </Story>
</Preview>

## Crop Options

<Preview>
  <Story name="Crop Options">
    {html`
      <div class="storybook-grid">
        ${cropTypes.map(c => {
          return html`
            <div>
              <span class="storybook-annotation">${c}</span>
              <esds-card
                style="${demoStyles}"
                img-src="./images/card/dollar-portrait.jpg"
                img-crop-type="${c}"
                title="One Dollar"
                metadata="Washington"
              ></esds-card>
            </div>
          `;
        })}
      </div>
    `}
  </Story>
</Preview>

## Link

<Preview>
  <Story name="Link">
    {`<esds-card
        style="${demoStyles}"
        title="Design System Intermediaries"
        metadata="February 2018"
        description="Relating to the distributors, translators, and themers in between"
        img-src="./images/card/medium.png"
        href="#"></esds-card>`}
  </Story>
</Preview>

## Link with Actions

<Preview>
  <Story name="Link with Actions">
    {`<esds-card
        style="${demoStyles}"
        title="Design System Intermediaries"
        metadata="February 2018"
        description="Relating to the distributors, translators, and themers in between"
        img-src="./images/card/medium.png"
        href="#">
        <button slot="actions" style="margin: 0; font-size: 16px; text-indent: 0; text-shadow: none;">Action 1</button>
        <button slot="actions" style="margin: 0; font-size: 16px; text-indent: 0; text-shadow: none;">Action 2</button>
      </esds-card>`}
  </Story>
</Preview>

## Link States

<Preview>
  <Story name="Link States">
    {html`
      <div class="storybook-grid">
        ${cardLinkStates.map(s => {
          return html`
            <div>
              <span class="storybook-annotation">${s}</span>
              <esds-card
                style="${demoStyles}"
                class="storybook-esds-card-state storybook-esds-card-state--${s}"
                title="Design System Intermediaries"
                metadata="February 2018"
                description="Relating to the distributors, translators, and themers in between"
                img-src="./images/card/medium.png"
                href="http://eightshapes.com"
              ></esds-card>
            </div>
          `;
        })}
      </div>
    `}
  </Story>
</Preview>

## On Backgrounds

<Preview>
  <Story name="On Backgrounds">
    {html`
      <esds-background-demo>
        ${cardLinkStates.map(s => {
          return html`
            <div>
              <span class="storybook-annotation">${s}</span>
              <esds-card
                style="${demoStyles}"
                class="storybook-esds-card-state storybook-esds-card-state--${s}"
                title="Design System Intermediaries"
                metadata="February 2018"
                description="Relating to the distributors, translators, and themers in between"
                img-src="./images/card/medium.png"
                href="http://eightshapes.com"
              ></esds-card>
            </div>
          `;
        })}
      </esds-background-demo>
    `}
  </Story>
</Preview>

## Content Resilience

<Preview>
  <Story name="Content Resilience">
    {html`
      <esds-card
        style="${demoStyles}"
        title="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Omnis id rerum, necessitatibus! Earum voluptatum quas animi voluptas quos, voluptates possimus?"
        metadata="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nulla, eum."
        description="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugiat ipsa numquam nihil laudantium asperiores quo molestiae non deleniti harum aperiam voluptas veniam vel eaque inventore aspernatur dolor veritatis similique distinctio accusantium, cupiditate. Voluptatum impedit, molestias iusto laboriosam dignissimos. Quisquam aliquid, est culpa odit nesciunt amet voluptatem voluptates quos iusto accusamus!"
        img-src="./images/card/medium.png"
        href="http://eightshapes.com"
      >
        <div slot="content" class="storybook-slotholder" style="height: 200px;">
          <span>content</span>
        </div>
        <div slot="actions" class="storybook-slotholder" style="height: 200px;">
          <span>actions</span>
        </div>
      </esds-card>
    `}
  </Story>
</Preview>

## Knobs

<Preview>
  <Story name="Knobs">
    {`
    <esds-card
        style="${demoStyles}"
        description="${text('Description', 'Lorem ipsum dolor sit amet.')}"
        img-src="${select(
          'Image',
          {
            Dollar: './images/card/dollar-portrait.jpg',
            Medium: './images/card/medium.png',
            Morningstar: './images/card/morningstar.png',
            'No Image': '',
            REI: './images/card/rei.png',
            USAC: './images/card/usac.png',
          },
          './images/card/dollar-portrait.jpg',
        )}"
        img-crop-type="${select(
          'Image Crop',
          {
            Contain: 'contain',
            Cover: 'cover',
            Fill: 'fill',
            None: 'none',
            'Scale Down': 'scale-down',
          },
          'cover',
        )}"
        metadata="${text('Metadata', '')}"
        title="${text('Title', 'Card Title')}"
    >${
      boolean('Actions Slot', false)
        ? `<div slot="actions" class="storybook-slotholder">
          <span>actions</span>
        </div>`
        : ''
    }${
      boolean('Content Slot', false)
        ? `<div slot="content" class="storybook-slotholder">
          <span>content</span>
        </div>`
        : ''
    }</esds-card>`}
  </Story>
</Preview>

## Scoped

<Preview>
  <Story name="Scoped">
    {html`
      <div class="storybook-grid">
        <div>
          <span class="storybook-annotation">&lt;esds-v10-card>&lt;/esds-v10-card></span>
          <esds-v10-card title="Card Title"></esds-v10-card>
        </div>
      </div>
    `}
  </Story>
</Preview>
